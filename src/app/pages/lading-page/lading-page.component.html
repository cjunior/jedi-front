<div *ngIf="isInitialLoading" class="custom-loading">
  <div class="loading-content">
    <img src="/logo.svg" alt="Logo" class="loading-logo" />
    <div class="loading-text">Carregando...</div>
  </div>
</div>
<div  class="container" *ngIf="!isInitialLoading">
    <div class="top">
        <app-dropdown/>
      <div class="itens flex flex-row items-center gap-5">
        @if(isAuthenticated()) {
          <p-button
          label="Configurações"
          icon="pi pi-cog"
          styleClass="bg-white! text-emerald-800! border-emerald-700! hover:bg-gray-100"
          (onClick)="redirectToConfigs()"
          size="small"
        />
        }
        <div class="flex gap-2">
          <div class="square"></div>
          <div class="square"></div>
          <div class="square"></div>
        </div>
      </div>
    </div>
    <nav>
        <img [src]="headerResponseDto.urllogo" alt="">
        <ul>
            <li><a href="#project">Projeto</a></li>
            <li><a href="#contentC">Conteúdo</a></li>
            <li><a href="#help">Ajuda</a></li>
            <li><a href="#red">#RedeJED</a></li>
    </ul>
    <button class="primary-btn" (click)="showDialog()"><img src="./tes.svg" alt="">Pré-Cadastro</button>
    </nav>

    <div class="container-one">
        <div class="containertext">
            <div class="text">
                <H1>Dê um play no seu futuro</H1>
            </div>
            <h1 class="sub">Sua oportunidade de conhecer ferramentas digitais para criar, desenvolver e gerenciar seu negócio de forma rápida, prática e gratuita.</h1>
        </div>

      <div class="photo">
  <p-carousel
    [value]="carouselImages"
    [numVisible]="1"
    [numScroll]="1"
    [circular]="true"
    [autoplayInterval]="3000"
    [showNavigators]="false"
  >
    <ng-template pTemplate="item" let-image>
      <div class="carousel-item-content" style="position: relative; text-align: center;">
        <img [src]="image.imgUrl" class="foto" alt="" style="object-fit: cover; width: 100%;" />

 <button
  *ngIf="image.buttonText && image.buttonUrl"
  pButton
  type="button"
  class="carousel-btn btns2"
  style="
    position: absolute;
    bottom: 38px;
    right: 85px;
    transform: translateX(-50%);
    width: 220px;
    height: 40px;
    background: rgba(0,0,0,0.6);
    color: #fff;
    border: none;
    font-weight: 600;
    font-size: 1rem;
    z-index: 2;
  "
  (click)="openCarouselLink(image.buttonUrl)"
>
  {{ image.buttonText }}
</button>
      </div>
    </ng-template>
  </p-carousel>
  <img src="./ondas.svg" alt="" class="w-full">
</div>

        <div  class="project">
            <h1 class="pr">O PROJETO</h1>
            <div class="text-project">
              <p>
                O <strong>Jovens Empreendedores Digitais</strong> é um curso 100% gratuito que estimula o empreendedorismo com foco na geração de renda e no fortalecimento da economia solidária.
                Voltado para jovens de 16 a 29 anos, o projeto é realizado em 53 municípios do Pará e oferece uma formação completa com:
              </p>
              <ul class="p-ml-4 p-mb-3">
                <li>• Módulos práticos sobre negócios digitais</li>
                <li>• Kits de aprendizagem com temas como marketing, vendas, inteligência artificial e mais</li>
                <li>• Apoio para transformar sua ideia em realidade</li>
              </ul>
              <p>
                O projeto é realizado pelo Instituto Federal de Educação, Ciência e Tecnologia do Ceará (IFCE), por meio do Centro de Referência em Educação a Distância (CREaD), em parceria com o Ministério da Ciência, Tecnologia e Inovações (MCTI).
              </p>
            </div>

        </div>

    </div>
    <div class="container-two">
        <div class="square-content">
            <div class="circle"><h1># de estudantes</h1></div>
            <span>Oferecemos um curso acessível para quem deseja explorar o mundo dos negócios digitais com autonomia.</span>
        </div>
        <img [src]="presentationSectionResponseDto.imgUrl" alt="">
        <div class="square-content-two">
            <div class="circle">
                <h1># de alcance</h1>
            </div>
        </div>
    </div>
    <div class="container-three">
        <h1 class="mb-4">Equipe</h1>
       <app-carousel/>


    </div>
    <img id="contentC" src="./onda2.svg" alt="">
    <div class="container-four">
        <div class="text">
            <h1>CONTEÚDOS</h1>
            <div class="text-content">
                <h2>Explore os Conteúdos</h2>
                <span>O curso foi pensado para te ajudar a transformar sua ideia em um negócio digital de forma simples, prática e conectada com a sua realidade. Em quatro módulos, você vai aprender ferramentas e estratégias para aprimorar o que já faz ou começar algo novo no mundo online. Confira os conteúdos do curso:</span>
            </div>
        </div>

  <div class="card">
     <div class="content">
      <h1>Sua Ideia de Negócio</h1>

    </div>
    <img
      src="./Suaideiadenegócio.jpg"
      alt="Imagem do conteúdo"
      style="width: 100%; height: 353px; object-fit: cover;"
    />

  </div>

    </div>

    <div class="container-five">
        <app-carousel-square/>
    </div>
    <div id="help" class="container-six">
        <div class="text5">
            <h1>Perguntas frequentes</h1>
            <h2>Dúvidas comuns sobre o curso</h2>
        </div>

        <app-acordion/>
    </div>

    <div class="container-seven">
        <div class="container-text">
            <div class="text">
                <h1>Fale Conosco</h1>
                <h2>Tem dúvidas, sugestões ou precisa de ajuda? Fale com a gente pelos canais abaixo:</h2>
            </div>


         <div style="display: flex; gap: 8px; flex-direction: column; margin-top: 10px;">
  <a
    class="red"
    style="display: flex; align-items: center; gap: 8px; cursor: pointer; text-decoration: none;"
    href="mailto:empreendedoresdigitais@ifce.edu.br"
  >
    <i class="pi pi-envelope" style="font-size: 1.5rem; color: #EA4335;"></i>
    <span style="font-size: 1.1rem;">empreendedoresdigitais&#64;ifce.edu.br</span>
  </a>
  <a
    class="red"
    style="display: flex; align-items: center; gap: 8px; cursor: pointer; text-decoration: none;"
    href="https://instagram.com/jovempreendedordigital"
    target="_blank"
    rel="noopener"
  >
    <i class="pi pi-instagram" style="font-size: 1.5rem; color: #833AB4;"></i>
    <span style="font-size: 1.1rem;">&#64;jovempreendedordigital</span>
  </a>
</div>


        </div>
        <app-form/>

    </div>

     <img src="./ondas.svg" alt="" class="w-full mt-8">

<div class="container-nine">
  @if(blogDestaque) {
    <div class="content" (click)="openPost(blogDestaque.id)">
      <div class="photo cardmain ">
        <img [src]="blogDestaque.imagem" [alt]="" class="bts3" />
      </div>

      <div class="pencil">
        <div class="edit">
          <img src="./edit.svg" alt="" >
          <span>Escrito por {{ blogDestaque.autor }}</span>
        </div>
      </div>
      <h1>{{ blogDestaque.titulo }}</h1>
    </div>
  }

  <div class="cards">
    @for (card of cards; track $index) {
      @if($index < 3) {
        <div class="minor-card" (click)="openPost(card.id)">
          <div class="photo cars">
            <img [src]="card.imagem" [alt]=""  class="imgs">
          </div>
          <div class="content-minor-card">
            <h4>{{ card.titulo | truncate: 50 }}</h4>
            <span>Escrito por {{ card.autor }}</span>
            <div class="date">
              <span>{{ card.data }}</span>
              <span>{{ card.tempoLeitura }}</span>
            </div>
          </div>
        </div>
      }
    }
    <div class="flex justify-end pt-2">
      <a href="" class="text-emerald-600! underline! text-end! text-xl" routerLink="blog">Ver mais</a>
    </div>
  </div>
</div>
</div>

<p-toast />

<p-dialog
styleClass="!bg-orange-50"
[modal]="true"
[(visible)]="visible"
[style]="{ width: '30rem' }"
[showHeader]="false"
[contentStyle]=" { 'padding': '0' }"
>
<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <div class="bg-emerald-800 p-2 overflow-hidden rounded-t-xl">
    <img src="/onda2.svg" alt="" class="!w-full !h-15" />
  </div>
  <div class="px-4">
    <div class="flex flex-col justify-center items-center gap-2 pt-6 pb-4">
      <h1 class="text-3xl uppercase text-green-700">Pré-Inscrição</h1>
      <span class="text-green-700 text-lg">Preencha seus dados e dê um play no seu futuro!</span>
    </div>
    <div class="flex flex-col gap-1 mb-4">
      <label for="name" class="font-semibold text-gray-700">Nome Completo</label>
      <input
        pInputText
        id="name"
        placeholder="Seu nome"
        formControlName="name"
        class="flex-auto !border-gray-300 h-10"
        autocomplete="off"
      />
      @if(showErrors() && form.get('name')?.hasError('required')) {
        <p-message
          severity="error"
          text="O nome completo é obrigatório."
          variant="simple"
        ></p-message>
      }
      @if(showErrors() && form.get('name')?.hasError('minlength')){
        <p-message
          severity="error"
          text="O nome deve ter pelo menos 6 caracteres."
          variant="simple"
        ></p-message>
      }
    </div>
    <div class="flex flex-col gap-1 mb-4">
      <label for="email" class="font-semibold text-gray-700">Email</label>
      <input
        pInputText
        id="email"
        placeholder="email@exemplo.com"
        formControlName="email"
        class="flex-auto !border-gray-300 h-10"
        autocomplete="off"
      />
      @if(showErrors() && form.get('email')?.hasError('required')){
        <p-message
          severity="error"
          text="O email é obrigatório."
          variant="simple"
        ></p-message>
      }
      @if(showErrors() && form.get('email')?.hasError('email')) {
        <p-message
          severity="error"
          text="Insira um email válido."
          variant="simple"
        ></p-message>
      }
    </div>
    <div class="flex flex-col gap-1 mb-8">
      <label for="phone" class="font-semibold text-gray-700">Telefone</label>
      <p-inputmask
        formControlName="phone"
        styleClass="!w-full !border-gray-300 h-10"
        mask="(99) 9 9999 - 9999"
        placeholder="(99) 9 9999 9999"
        [unmask]="true"
      ></p-inputmask>
      @if(showErrors() && form.get('phone')?.hasError('required')){
        <p-message
          severity="error"
          text="O telefone é obrigatório."
          variant="simple"
        ></p-message>
      }
    </div>
    <div class="flex justify-end pb-4 gap-2">
      <button
        pButton
        class="w-30 !py-3 !rounded-xl !border-gray-300 !text-gray-700 !bg-gray-50 hover:bg-gray-100! !transition"
        (click)="visible = false"
      >
        Cancelar
      </button>
      <button
        pButton
        type="submit"
        class="!bg-emerald-800 hover:bg-emerald-900! border-emerald-700 w-30 !py-3 !rounded-xl"
        [loading]="isLoading()"
      >
        Enviar
      </button>
    </div>
  </div>
</form>
</p-dialog>
