<div class="flex justify-between items-center mb-4">
  <h3 class="text-lg text-zinc-700">Pré-cadastros</h3>
  <button
    pButton
    type="button"
    icon="pi pi-download"
    label="Gerar relatório"
    class="!bg-emerald-800 hover:bg-emerald-900! !border-emerald-700"
  ></button>
</div>

<div class="flex gap-4 mb-2 mt-12">
  <p-floatlabel variant="on">
    <input pInputText id="name" type="text" />
    <label for="name">Busca pelo nome</label>
  </p-floatlabel>
  <p-floatlabel variant="on">
    <input pInputText id="email" type="email" />
    <label for="email">Busca pelo email</label>
  </p-floatlabel>
  <!-- <p-floatlabel variant="on">
    <p-inputmask id="phone" mask="(99) 9 9999 - 9999" />
    <label for="phone">Busca pelo telefone</label>
  </p-floatlabel> -->
</div>
<p-panel showHeader="false">
  <p-table
    #dt
    [value]="customers() || []"
    [paginator]="true"
    [rows]="size()"
    [lazy]="true"
    [totalRecords]="totalRecords()"
    (onLazyLoad)="loadPage($event)"
    [loading]="loading()"
    stripedRows
  >
    <!-- <ng-template #caption>
      <div class="text-end pb-4">
          <p-button icon="pi pi-download" label="Gerar Relatório" (click)="dt.exportCSV()" />
      </div>
    </ng-template> -->
    <!-- Cabeçalho da tabela -->
    <ng-template pTemplate="header">
      <tr>
        <th>
          Nome
        </th>
        <th>
          Email
        </th>
        <th>
          Telefone
        </th>
        <th>
          Status
        </th>
      </tr>

    </ng-template>

    <!-- Corpo da tabela -->
    <ng-template pTemplate="body" let-customer>
      <tr>
        <td [title]="customer.completeName">{{ customer.completeName | truncate:35 }}</td>
        <td [title]="customer.email">{{ customer.email | truncate:35 }}</td>
        <td>{{ customer.cellPhone }}</td>
        <td>
          @if (customer.cpf) {
            <p-tag severity="success" value="Completo"></p-tag>
          } @else {
            <p-tag severity="info" value="Incompleto"></p-tag>
          }
        </td>
      </tr>
    </ng-template>

    <!-- Mensagem de vazio -->
    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="3">Nenhum registro encontrado.</td>
      </tr>
    </ng-template>
  </p-table>
</p-panel>

