<div class="text mb-4">
  <h2 class="text-lg">Edição da landing page</h2>
  <p class="text-sm text-gray-600">Clique onde voce quer alterar o texto para poder editar</p>
</div>
<p-accordion [multiple]="true" class="p-8 bg-gray-100 accordion-gap">

  <p-accordionTab header="Logo e Navegação">
    <div class="col-span-full flex mt-4">
      <button pButton type="button" label="Imagem de onde está alterando" icon="pi pi-eye" class="p-button-success" (click)="openPreview()"></button>
    </div>
    
    <p-dialog [(visible)]="previewVisible" [header]="'Preview da Imagem'" [closable]="true" [modal]="true" [dismissableMask]="true" [style]="{ width: '50vw' }">
      <div class="flex justify-center items-center">
        <img [src]="previewImage" alt="Preview" class="max-w-full max-h-full rounded imgr" />
      </div>
    </p-dialog>
    
    <p-card header="Logotipo">
      <input pInputText type="text" [(ngModel)]="logo" placeholder="URL do logotipo" class="w-full" />
    </p-card>
    <p-card header="Menu">
      <input pInputText type="text" [(ngModel)]="menu.projeto" placeholder="O Projeto" class="w-full mb-2" />
      <input pInputText type="text" [(ngModel)]="menu.conteudo" placeholder="Conteúdo" class="w-full mb-2" />
      <input pInputText type="text" [(ngModel)]="menu.ajuda" placeholder="Ajuda" class="w-full mb-2" />
      <input pInputText type="text" [(ngModel)]="menu.red" placeholder="#RedeJED" class="w-full" />
    </p-card>
  </p-accordionTab>

  <p-accordionTab header="Imagem Manifesto">
    <p-card header="Imagem do Manifesto">
      <input type="file" (change)="onFileSelect($event, manifestoImagem)" />
    </p-card>
  </p-accordionTab>

  <p-accordionTab header="Chamada Principal">
    <p-card>
      <input pInputText [(ngModel)]="chamada.titulo" placeholder="Título" class="w-full mb-2" />
      <input pInputText [(ngModel)]="chamada.subtitulo" placeholder="Subtítulo" class="w-full" />
    </p-card>
  </p-accordionTab>


  <p-accordionTab header="Destaques do Projeto">
    <p-card>
      <input pInputText [(ngModel)]="bolas.titulo1" placeholder="Título Bola 1" class="w-full mb-2" />
      <input pInputText [(ngModel)]="bolas.titulo2" placeholder="Título Bola 2" class="w-full mb-2" />
      <textarea pInputTextarea [(ngModel)]="bolas.descricao" placeholder="Descrição" class="w-full mb-2"></textarea>
      <input type="file" (change)="onFileSelect($event, bolasImagem)" />
    </p-card>
  </p-accordionTab>

  <p-accordionTab header="Carrossel Equipe">
    <p-card>
      <div *ngFor="let file of equipeCarrossel; let i = index" class="flex items-center gap-4 mb-2">
        <img [src]="file | filePreview" class="w-16 h-16 object-cover rounded" />
        <span class="text-sm">{{ file.name }}</span>
        <button pButton icon="pi pi-trash" (click)="removerImagem(equipeCarrossel, i)" severity="danger"></button>
      </div>
      <input type="file" (change)="onFileSelect($event, equipeCarrossel)" />
    </p-card>
  </p-accordionTab>


  <p-accordionTab header="Conteúdo com Imagem">
    <p-card>
      <input pInputText [(ngModel)]="conteudo.nome" placeholder="Nome Conteúdo" class="w-full mb-2" />
      <input pInputText [(ngModel)]="conteudo.titulo" placeholder="Título" class="w-full mb-2" />
      <input pInputText [(ngModel)]="conteudo.subtitulo" placeholder="Subtítulo" class="w-full mb-2" />
      <input type="file" (change)="onFileSelect($event, conteudoImagem)" />
    </p-card>
  </p-accordionTab>

  <p-accordionTab header="Carrossel Diverso">
    <p-card>
      <div *ngFor="let file of outroCarrossel; let i = index" class="flex items-center gap-4 mb-2">
        <img [src]="file | filePreview" class="w-16 h-16 object-cover rounded" />
        <span class="text-sm">{{ file.name }}</span>
        <button pButton icon="pi pi-trash" (click)="removerImagem(outroCarrossel, i)" severity="danger"></button>
      </div>
      <input type="file" (change)="onFileSelect($event, outroCarrossel)" />
    </p-card>
  </p-accordionTab>

  <p-accordionTab header="Acordions Dinâmicos">
    <div *ngFor="let item of acordions; let i = index" class="mb-4">
      <p-card>
        <input pInputText [(ngModel)]="item.titulo" placeholder="Título" class="w-full mb-2" />
        <input pInputText [(ngModel)]="item.subtitulo" placeholder="Subtítulo" class="w-full mb-2" />
        <textarea pInputTextarea [(ngModel)]="item.texto" placeholder="Texto" class="w-full"></textarea>
        <button pButton icon="pi pi-trash" label="Remover" (click)="removerAccordion(i)" class="mt-2 p-button-danger"></button>
      </p-card>
    </div>
    <button pButton icon="pi pi-plus" label="Adicionar Acordion" (click)="adicionarAccordion()" class="p-button-success"></button>
  </p-accordionTab>

  <p-accordionTab header="Rodapé">
    <p-card>
      <input pInputText [(ngModel)]="footer.titulo" placeholder="Título" class="w-full mb-2" />
      <input pInputText [(ngModel)]="footer.subtitulo" placeholder="Subtítulo" class="w-full mb-2" />
      <textarea pInputTextarea [(ngModel)]="footer.descricao" placeholder="Descrição" class="w-full"></textarea>
    </p-card>
  </p-accordionTab>

  <p-accordionTab header="Carrossel Final de Imagens">
    <p-card>
      <div *ngFor="let file of carrosselFinal; let i = index" class="flex items-center gap-4 mb-2">
        <img [src]="file | filePreview" class="w-16 h-16 object-cover rounded" />
        <span class="text-sm">{{ file.name }}</span>
        <button pButton icon="pi pi-trash" (click)="removerImagem(carrosselFinal, i)" severity="danger"></button>
      </div>
      <input type="file" (change)="onFileSelect($event, carrosselFinal)" />
    </p-card>
  </p-accordionTab>

  <div class="col-span-full flex justify-center mt-4">
    <button pButton type="button" label="Salvar" icon="pi pi-save" class="p-button-success" (click)="salvar()"></button>
  </div>

</p-accordion>
